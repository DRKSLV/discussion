{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.9ced012dbd724d9dbba4.hot-update.js","sources":["webpack:///./components/layout/ContextMenu.js"],"sourcesContent":["import {Dropdown, DropdownItem} from \"../MultilevelMenu\";\r\nimport style from \"../../style/dropdown.module.sass\";\r\nimport { createContext, useContext, useState, useEffect } from \"react\";\r\nimport { OutsideAlerter } from \"../../hooks/clickOutside\";\r\n\r\nexport const MenuData = createContext({});\r\n\r\n\r\nexport function ContextMenu(props) {\r\n    const [open, setOpen] = useState(false);\r\n    const [pos, setPos] = useState([0, 0]);\r\n    const [contents, setContents] = useState([<DropdownItem text=\"Dark Theme\"/>, <hr/>,<DropdownItem text=\"Privacy Policy\"/>]);\r\n\r\n    if(open) {\r\n        var d = {\r\n            left: \"min( calc( 100vw - 205px ),   \"+pos[0]+\"px  )\",\r\n            top:  \"min( calc( 100vh + \"+document.body.scrollHeight+\"px - 205px ),   \"+pos[1]+\"px  )\",\r\n            display: open? \"block\" : \"none\"\r\n        };\r\n    }\r\n    \r\n    //console.log(d);\r\n\r\n    function openMenu(x, y, content) {\r\n        if(content) {\r\n            setOpen(true);\r\n            setPos([x, y]);\r\n            setContents(content);\r\n        }\r\n    }\r\n\r\n    function removeMenu() {\r\n        setOpen(false)\r\n    }\r\n\r\n    function clickOutside() {\r\n        removeMenu();\r\n    }\r\n\r\n    var contentObj = contents.map((ctn, index) => {\r\n        return React.cloneElement(ctn, {key: index})\r\n    });\r\n\r\n    return (\r\n        <div style={props.style}>\r\n            <MenuData.Provider value={{openMenu, removeMenu}}>\r\n                {props.children}\r\n            </MenuData.Provider>\r\n\r\n            <OutsideAlerter className={style.menuMover} component=\"div\" onClickOutside={clickOutside} style={d}> \r\n                {open && <Dropdown small>\r\n                    {contentObj}\r\n                </Dropdown>}\r\n            </OutsideAlerter>\r\n        </div>\r\n    );\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;A","sourceRoot":""}