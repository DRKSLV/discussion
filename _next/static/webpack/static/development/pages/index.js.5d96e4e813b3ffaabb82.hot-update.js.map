{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.5d96e4e813b3ffaabb82.hot-update.js","sources":["webpack:///./components/CommentSection.js"],"sourcesContent":["import { useCommentIds, useComments } from \"../hooks/comments\";\r\nimport { Comment } from \"./Comment\";\r\n\r\nimport { CSSTransition, SwitchTransition } from \"react-transition-group\";\r\n\r\nimport s from \"../style/commentSection.module.sass\";\r\nimport { useState } from \"react\";\r\n\r\nexport function CommentSection(props) {\r\n    //load comments\r\n    var comIds = useCommentIds(props.open, props.id);\r\n    var comments = useComments(comIds);\r\n    var [height, setHeight] = useState(null);\r\n\r\n    //required by css switch transition\r\n    var animKey = undefined;\r\n\r\n    var comObjects = comments.map((comment) => {\r\n        //comments not yet loaded\r\n        if(comment === \"not epic\") {\r\n            animKey=\"wait\";\r\n            return <p>Loading...</p>;\r\n        } \r\n        //COMMENTS!\r\n        animKey=\"cs\";\r\n        return (<Comment key={comment.entityId} comment={comment}/>)\r\n    });\r\n    //no comments :(\r\n    if (!comments[0]) {\r\n        animKey = \"no\";\r\n        comObjects = [<p>There are no Comments</p>];\r\n    }\r\n    if(!props.open) {\r\n        animKey=\"hurensohn nein\";\r\n        comObjects = [<></>];\r\n    }\r\n\r\n    function calculateHeight (el, appear) {\r\n        var h = el.firstChild.offsetHeight;\r\n        console.log(h);\r\n\r\n        setHeight(h);\r\n    }\r\n\r\n\r\n    return (\r\n        \r\n            <SwitchTransition mode={\"out-in\"}>\r\n                <CSSTransition \r\n                    timeout={1000} \r\n                    classNames={{ ...s }} \r\n                    component=\"div\"\r\n                    onEnter={calculateHeight}\r\n                    key={animKey}\r\n                    style={{\"--height\": height}}\r\n                >     \r\n                    <div className={s.commentSectionWrap}>\r\n                        {props.open? <div className={s.commentSection}>{comObjects}</div> : <></>}\r\n                    </div>\r\n                </CSSTransition>\r\n            </SwitchTransition>\r\n    );\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAEA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AACA;AACA;AAKA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;A","sourceRoot":""}