{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.e09a7c0a3a3f8ec63abe.hot-update.js","sources":["webpack:///./components/AccountForm.js"],"sourcesContent":["import s from \"../style/form.module.sass\"\r\nimport { useState } from \"react\";\r\n\r\nexport function AccountForm() {\r\n    return (\r\n        <div>\r\n            <form className={s.form}>\r\n                <textarea>\r\n                </textarea>\r\n                <select>\r\n                    <option>GAMER</option>\r\n                    <option>GAMER</option>\r\n                    <option>GAMER</option>\r\n                </select>\r\n                <button></button>\r\n                <input type=\"button\"/>\r\n                <input type=\"checkbox\"/>\r\n                <input type=\"color\"/>\r\n                <input type=\"date\"/>\r\n                <input type=\"datetime-local\"/>\r\n                <input type=\"email\"/>\r\n                <input type=\"file\"/>\r\n                <input type=\"hidden\"/>\r\n                <input type=\"image\"/>\r\n                <input type=\"month\"/>\r\n                <input type=\"number\"/> \r\n                <input type=\"password\"/>\r\n                <input type=\"radio\"/>\r\n                <input type=\"range\"/>\r\n                <input type=\"reset\"/>\r\n                <input type=\"search\"/>\r\n                <input type=\"submit\"/>\r\n                <input type=\"tel\"/>\r\n                <input type=\"text\"/>\r\n                <input type=\"time\"/>\r\n                <input type=\"url\"/>\r\n                <input type=\"week \"/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function RegisterForm(props) {\r\n    const [username, setUsername] = useState(props.username || \"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [password2, setPassword2] = useState(\"\");\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [ratelimited, setRatelimited] = useState(false);\r\n    const [credWrong, setCredWrong] = useState(false);\r\n    const [taken, setTaken] = useState(false);\r\n\r\n    var showUsername = !props.username;\r\n    var showRegister = props.register;\r\n\r\n\r\n    function change(evt) {\r\n        switch(evt.target.name) {\r\n            case \"username\":\r\n                return setUsername(evt.target.value);\r\n            case \"email\":\r\n                return setEmail(evt.target.value);\r\n            case \"password\":\r\n                return setPassword(evt.target.value);\r\n            case \"password2\":\r\n                return setPassword2(evt.target.value);\r\n        }\r\n    }\r\n\r\n    async function submit(evt) {\r\n        await later(1000);\r\n        console.log(\"huh?\");\r\n        if(typeof props.onSubmit === \"function\" && (!showRegister || password === password2)) {\r\n            setLoading(true);\r\n            setRatelimited(false);\r\n            setCredWrong(false);\r\n            setTaken(false);\r\n\r\n            var result;\r\n            try {\r\n                result = await props.onSubmit({username, email, password}, showRegister);\r\n                if(result===\"unexpected\") return;\r\n            } catch (error) {\r\n                console.log(error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n\r\n            console.log(result);\r\n            switch(result) {\r\n                case \"username/email taken\":\r\n                    setTaken(true) \r\n                    break;\r\n                case \"ratelimit\":\r\n                    setRatelimited(true);\r\n                    break;\r\n                case \"wrong credentials\":\r\n                    setCredWrong(true);\r\n                    break;\r\n            }\r\n        } \r\n    }\r\n    function submit2(evt) { submit(); evt.preventDefault(); }\r\n\r\n    function focus() {\r\n        console.log(\"foccus!\");\r\n        if(typeof props.onFocus === \"function\") {\r\n            props.onFocus();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <form className={s.registerForm} onSubmit={submit2}>\r\n            {\r\n                showRegister && \r\n                <label>Email: \r\n                    <input type=\"email\" name=\"email\" onChange={change} value={email} autoComplete=\"email\" disabled={loading} data-wrong={taken}/>\r\n                </label>\r\n            }\r\n            {\r\n                showUsername && \r\n                <label>Username: \r\n                    <input type=\"text\" name=\"username\" onChange={change} value={username} autoComplete=\"username\" disabled={loading} data-wrong={credWrong||taken}/>\r\n                </label>\r\n            }\r\n            <label>Password: \r\n                <input type=\"password\" name=\"password\" onChange={change} value={password} disabled={loading} data-wrong={credWrong}/>\r\n            </label>\r\n            {\r\n                showRegister && \r\n                <label>Retype Password: \r\n                    <input type=\"password\" name=\"password2\" onChange={change} value={password2} disabled={loading}/>\r\n                </label>\r\n            } \r\n            <div className={s.submitButton}>\r\n                <div>{ratelimited && <span>(!) Consider <i/>not<i/> spamming ☝☝ <sub>thank</sub></span>}\r\n                {taken && <span>(!) Username/Email taken<sub>have fun guessing which one</sub></span>}</div>\r\n                <button type=\"submit\" data-known=\"true\" value=\"Post!\" disabled={loading}>Submit</button>\r\n            </div>\r\n        </form>\r\n        </>\r\n    );\r\n}\r\n\r\n//TODO add tab component\r\nexport function TabbedAccountForm(props) {\r\n    var [selected, setSelected] = useState(0);\r\n\r\n    function onClick(idx) {\r\n        setSelected(idx);\r\n    }\r\n\r\n    function keyDown(evt) {\r\n        console.log(\"yeet\");\r\n        if(evt.keyCode === 39 || evt.keyCode === 37) {\r\n            setSelected((prev) => prev===0 ? 1 : 0);\r\n        }\r\n    }\r\n\r\n    return <div className={s.tabWrapper}>\r\n        <nav className={s.tabBar} role=\"tablist\" onKeyDown={keyDown}>\r\n            <div className={s.tab} onClick={() => {onClick(0)}} aria-selected={selected===0} role=\"tab\" tabIndex={selected===0 ? 0 : -1}>Register</div>\r\n            <div className={s.tab} onClick={() => {onClick(1)}} aria-selected={selected===1} role=\"tab\" tabIndex={selected===1 ? 0 : -1}>Login</div>\r\n        </nav>\r\n        <RegisterForm register={selected===0} {...props}></RegisterForm>\r\n    </div>\r\n}\r\n\r\nfunction later(delay) {\r\n    return new Promise(function(resolve) {\r\n        setTimeout(resolve, delay);\r\n    });\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAUA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AARA;AAUA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AACA;AAZA;AAWA;AACA;AAZA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAcA;AACA;AAfA;AAAA;AAgBA;AAhBA;AACA;AADA;AAmBA;AAnBA;AAAA;AAAA;AACA;AADA;AAsBA;AAtBA;AACA;AADA;AAyBA;AAzBA;AACA;AADA;AA4BA;AA5BA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAgCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}