{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.3d97b60413d987f302bf.hot-update.js","sources":["webpack:///./components/Comment.js"],"sourcesContent":["import { Vote } from \"./Vote\";\r\nimport { Timestamp } from \"./Timestamp\"\r\nimport { Threadindent } from \"./threadindent\"\r\n\r\nimport s from \"../style/post.module.sass\";\r\n\r\nexport function Comment(props) {\r\n    var c = props.comment;\r\n\r\n    var indents = [];\r\n    for(let i=0; i<c.level; i++) {\r\n        indents.push(<Threadindent key={i}/>)\r\n    }\r\n\r\n    console.log(c);\r\n\r\n    function context(evt) {\r\n        if (deletion || editing) return false\r\n        evt.preventDefault();\r\n\r\n\r\n        var menu = [\r\n            <ConfirmMenuItem text=\"Copy markdown\" leftIcon={<FaCopy/>} onClick={async () => {\r\n                try {\r\n                    await navigator.clipboard.writeText(c.text)\r\n                    return true;\r\n                } catch (error) {\r\n                    return false;\r\n                }\r\n            }} />\r\n        ]\r\n        if (typeof id.active !== \"number\" || !id.users[id.active])\r\n            return contextMenu.openMenu(evt.pageX, evt.pageY, menu);\r\n\r\n        if (p.author && id.users[id.active].username === p.author.username)\r\n            menu.push(\r\n                <DropdownItem text=\"Edit\" onClick={edit} leftIcon={<MdEdit />} />);\r\n        if ((p.author && id.users[id.active].username === p.author.username) || id.users[id.active].moderator)\r\n            menu.push(<DropdownItem text=\"Delete\" onClick={deleteModal} warn={true} leftIcon={<FaBan />} />);\r\n        if (id.users[id.active].moderator) {\r\n            var l = p.entity.comments_locked;\r\n            var h = p.entity.comments_hidden;\r\n            menu.push(\r\n                <DropdownItem text=\"Comments\" warn={true} leftIcon={<FaCommentDots />}>\r\n                    <DropdownItem text={!l ? \"Lock\" : \"Unlock\"} leftIcon={!l ? <FaLock /> : <FaLockOpen />} warn={true} onClick={() => entity(!l)} />\r\n                    <DropdownItem text={!h ? \"Hide\" : \"Show\"} leftIcon={!h ? <FaEyeSlash /> : <FaEye />} warn={true} onClick={() => entity(undefined, !h)} />\r\n                </DropdownItem>\r\n            )\r\n        }\r\n\r\n        contextMenu.openMenu(evt.pageX, evt.pageY, menu);\r\n    }\r\n\r\n    if(!c.author && c.text === \"~d~\" || c.text === \"~r~\") {\r\n        return (\r\n            <div className={s.commentWrap} onContextMenu={context}>\r\n                <div className={s.indents}>{indents}</div>\r\n                <div className={s.comment}>\r\n                    <div className={s.indentVote}>\r\n                        <Threadindent></Threadindent>\r\n                    </div>\r\n                    <div className={s.content}>\r\n                        <div>\r\n                            <p className={s.author}>\r\n                                <Timestamp time={c.createdAt} edit={c.updatedAt} compact={true}></Timestamp>\r\n                            </p>\r\n                        </div>\r\n                        <div className={s.body}>\r\n                            <p style={{color:\"grey\"}}>\r\n                                COMMENT { c.text===\"~d~\" ? \"‚ùåDELETED‚ùå\" : \"üî•REMOVEDüî•\"}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={s.commentWrap}>\r\n            <div className={s.indents}>{indents}</div>\r\n            <div className={s.comment}>\r\n                <div className={s.indentVote}>\r\n                    <Vote up={c.entity.upvotes} down={c.entity.downvotes} small={true} id={c.entity.id}></Vote>\r\n                    <Threadindent></Threadindent>\r\n                </div>\r\n                <div className={s.content}>\r\n                    <div>\r\n                        <p className={s.author}>\r\n                            posted by <span>{c.author ? c.author.username : \"‚ùåDELETED‚ùå\"}</span> <Timestamp time={c.createdAt} edit={c.updatedAt} compact={true}></Timestamp>\r\n                        </p>\r\n                    </div>\r\n                    <div className={s.body}>\r\n                        <p>\r\n                            {c.text}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAGA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;A","sourceRoot":""}